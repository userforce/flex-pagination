<!DOCTYPE html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vue@2.6.10/dist/vue.js"></script>
    <script type="text/javascript" src="../dist/js/flex-pagination.js"></script>
    <title>Flex Pagination</title>
</head>
<style>
    @import url('https://fonts.googleapis.com/css?family=Inconsolata|Source+Sans+Pro&display=swap');

    body {
        font-family: 'Source Sans Pro', sans-serif;
    }

    .example {
        height: 350px;
        -webkit-box-shadow: 0px 7px 15px 0px rgba(0, 0, 0, 0.05);
        -moz-box-shadow: 0px 7px 15px 0px rgba(0, 0, 0, 0.05);
        box-shadow: 0px 7px 15px 0px rgba(0, 0, 0, 0.05);
        padding: 15px 55px 15px 15px;
        overflow: auto;
    }

    .example p {
        color: #777777;
    }

    .example p b {
        color: #000000;
    }

    .example-title {
        border-bottom: 1px solid #000;
        margin: 75px 0 15px 0;
        font-size: 24px;
        color: black;
    }

    .footer{
        height: 150px;
    }

    .code, .note {
        border-radius: 4px 4px 4px 4px;
        -moz-border-radius: 4px 4px 4px 4px;
        -webkit-border-radius: 4px 4px 4px 4px;
        padding: 15px;
        margin-bottom: 15px;
        background: #f8f8f8;
        border: 1px solid #f1f1f1;
        font-size: 16px;
        font-family: 'Inconsolata', monospace;
    }

    .code .prop {
        background: #ffeec4;
    }

    .code .blue {
        color: #032bf2;
    }

    .note {
        background: #fff7f0;
        font-size: 14px;
        line-height: 18px;
        color: #777777;
    }

    .note b {
        color: #0d5982;
    }

    .flexp li.flexp-range-after, .flexp li.flexp-range-before {
        background: #f8f8f8;
    }
</style>
<body style="margin: 0; padding: 0;">
<div id="app">
    <div style="width: 1200px; margin: 0 auto;">
        <div class="example-title">
            <span class="light-blue">Default configuration</span>
        </div>
        <div class="note">
            Flex pagination requires <b>[:pagination=""]</b> property which must be of type object and have 2 child properties.<br/>
            <b>[page]</b> type (int) which is current active page; <br/>
            <b>[total]</b> type (int) which is total amount of pages;
        </div>
        <div class="code">
            <span class="blue">import</span> FlexPagination <span class="blue">from</span> 'flex-pagination';
        </div>
        <div class="code">
            &lt;flex-pagination <span class="blue">:pagination</span>="<span class="prop"><b>pagination</b></span>"&gt;&lt;/flex-pagination&gt;
        </div>
        <div class="code">
            <span class="prop"><b>pagination</b></span>: { <br/>
            &nbsp;&nbsp;&nbsp;&nbsp;page: {{ example1.pagination.page }}, <br/>
            &nbsp;&nbsp;&nbsp;&nbsp;total: {{ totalPages }} <br/>
            }
        </div>
        <div class="example">
            <b>Page {{ example1.pagination.page }}</b><br/>
            <p v-html="content[example1.pagination.page - 1]"></p>
        </div>
        <br/>
        <flex-pagination :pagination="example1.pagination"
                         v-on:flexp:page="example1PageUpdated">
<!--            <template v-slot:flexp-first>-->
<!--                <h1>Here might be a page title</h1>-->
<!--            </template>-->
        </flex-pagination>
        <div style="clear: both;"></div>

        <div class="example-title">
            <span class="light-blue">Ranges</span>
        </div>
        <div class="note">
            <b>[:range=""]</b> property is defining how many page buttons to show <b>[before]</b> or <b>[after]</b> current page.
            <br/><br/>
            <b>NOTE:</b> By default ranges: [before] and [after] are set to 5.
        </div>
        <div class="code">
            &lt;flex-pagination
            <span class="blue">:pagination</span>="<b>pagination</b>"
            <span class="blue">:range</span>="<span class="prop"><b>range</b></span>"&gt;&lt;/flex-pagination&gt;
        </div>
        <div class="code">
            <span class="prop"><b>range</b></span>: { <br/>
            &nbsp;&nbsp;&nbsp;&nbsp;before: {{ example2.range.before }}, <br/>
            &nbsp;&nbsp;&nbsp;&nbsp;after: {{ example2.range.after }} <br/>
            }<br/><br/>
        </div>
        <div class="example">
            <b>Page {{ example2.pagination.page }}</b><br/>
            <p v-html="content[example2.pagination.page - 1]"></p>
        </div>
        <br/>
        <flex-pagination :pagination="example2.pagination"
                         :range="example2.range"
                         v-on:flexp:page="example1PageUpdated">
            <!--            <template v-slot:flexp-first>-->
            <!--                <h1>Here might be a page title</h1>-->
            <!--            </template>-->
        </flex-pagination>







    </div>
    <div class="footer"></div>
</div>
<script type="text/javascript">
    new Vue({
        el: '#app',

        components: {
            'flex-pagination': FlexPagination
        },

        data() {
            let totalPages = 50;

            return {
                content: [],
                example1: {
                    pagination: {
                        page: 10,
                        total: totalPages,
                    },
                },
                example2: {
                    pagination: {
                        page: 10,
                        total: totalPages,
                    },
                    range: {
                        before: 3,
                        after: 0
                    },
                },
                example3: {
                    pagination: {
                        page: 1,
                        total: totalPages,
                    },
                    range: {
                        before: 5,
                        after: 5
                    },
                    config: {
                        show: {
                            first: false,
                            last: false,
                            next: true,
                            prev: true
                        },
                        scroll: {
                            prefix: 'page-id-prefix-'
                        },
                        arrowColor: 'red',
                        eventName: 'my-custom-event'
                    }
                },
                totalPages: totalPages,
            };
        },

        methods: {

            setContent() {
                let content = [];
                for (let i = 1; i <= this.totalPages; i++) {
                    content.push(this.getText());
                }
                this.content = content;
            },

            getText() {
                let self = this;
                let generateText = function() {
                    let text = '';
                    for (let i = 0; i < self.getRandomNumber(100, 150); i++) {
                        text += self.getRandomString() + ' ';
                    }
                    return text;
                };
                let paragraph = '';
                for (let i = 0; i <= self.getRandomNumber(3, 7); i++) {
                    let randomText = generateText();
                    let text = randomText.slice(0, 1).toUpperCase() + randomText.slice(1, randomText.length - 1) + '. <br/></br>';
                    paragraph += text;
                }

                return paragraph;
            },

            getRandomString() {
                return Math.random().toString(36).replace(/[^a-z]+/g, '').substr(0, this.getRandomNumber(2, 11));
            },

            getRandomNumber(min = 0, max = 500) {
                min = Math.ceil(min);
                max = Math.floor(max);
                return Math.floor(Math.random() * (max - min)) + min;
            },

            example1PageUpdated(page) {
                console.dir(page);
                console.dir(1);
            },
        },

        mounted() {
            this.setContent();
        }
    });
</script>
</body>
</html>